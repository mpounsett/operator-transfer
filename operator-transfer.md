% Title = "Change of Operator Procedures for DNSSEC with Automated Publishing"
% abbrev = "Change of Operator for Automated Zones"
% category = "info"
% docName = "draft-pounsett-transfers-for-busy-DNSSEC-zones"
% ipr = "trust200902"
% area = "OPS"
% workgroup = ""
% keyword = ["dnssec", "operator", "procedures"]
% updates = [6781]
%
% date = 2016-04-22T00:00:00Z
%
% [[author]]
% initials = "M."
% surname = "Pounsett"
% fullname = "Matthew Pounsett"
% role="author"
% organization = "Rightside Group, Ltd."
% 	[author.address]
%	email = "matt@conundrum.com"
%

.# Abstract

Section 4.3.5.1 of [@RFC6781] "DNSSEC Operational Practices, version 2"
describes a procedure for transitioning a DNSSEC signed zone from one
(cooperative) operator to another.  The procedure works well in many
situations, but makes the assumption that it is feasible for the two operators
to simultaneously publish slightly different zones.  In some cases, such as
with TLD registries, operational considerations require both operators to
publish identical zones for the duration of the transition.  This document
describes a modified transition procedure which can be used in these cases.

{mainmatter}

# Introduction

The process described in "DNSSEC Operational Practices, version 2"
([@RFC6781]), section 4.3.5.1 for cooperating DNS operators to move a DNSSEC
signed zone cannot be followed in all cases.  When operators are moving a zone
that is automatically updated and/or changes rapidly, such as with a TLD or
any other zone published from a registration database, it may not be feasible
for the operators to publish different versions of the same zone.

In these cases, it would be necessary for one or both operators to have the
capability to add, remove, or alter arbitrary records inline along the zone
transfer path (such as modifying the NSSet, and stripping RRSIGs).  It cannot
be assumed that this capability exists, since few (if any) common DNS
implementations include these functions, and many custom implementations exist
whose feature sets cannot be predicted.

As a result, it must be assumed that operators moving an automatically
generated or frequently updated zone must be able to publish an identical zone
while transitioning it from one operator to another.

# Changing Between Cooperating DNS Operators

In this scenario, it is assumed that the operators will not exchange any
private key material, but are otherwise fully cooperative.  It is also assumed
that the zone publishing process will be transferred between operators
independently of the DNS operations.  The simplest case is to transition the
publishing process after the DNS operations move has been completed, although
the reverse order is possible.  During the transition, the losing operator
will provide the zone contents to the gaining operator by some automatic means
(typically zone transfer).

The transition uses a pre-publish KSK and ZSK rollover, whereby the losing
operator pre-publishes the public KSK and ZSH of the gaining operator.
Partway through the transition, the losing operator stops signing the zone and
begins providing an unsecure zone to the gaining operator, who begins signing.
Once that is done, the gaining operator continues to post-publish the public
keys of the losing operator until the TTLs of the original RRSIGs expire.

In the timeline below, the losing operator is operator A, and the gaining
operator is operator B.  Records representig data generated by each operator
are appended with the operator letter.

F> ~~~~ ascii-art
F> ----------------------------------------------------------------
F> | initial            | pre-publish        | re-delegation I    |
F> ----------------------------------------------------------------
F> | Parent:            | Parent:            | Parent:            |
F> |  NS_A              |  NS_A              |                    |
F> |                    |                    |  NS_B              |
F> |  DS_A              |  DS_A              |  DS_A              |
F> |                    |                    |  DS_B              |
F> ----------------------------------------------------------------
F> | Published by A     | Published by A     | Published by A     |
F> | Signed by A        | Signed by A        | Signed by A        |
F> ----------------------------------------------------------------
F> | Child:             | Child:             | Child:             |
F> |  SOA_A0            |  SOA_A1            |  SOA_A1            |
F> |  RRSIG_Z_A(SOA)    |  RRSIG_Z_A(SOA)    |  RRSIG_Z_A(SOA)    |
F> |                    |                    |                    |
F> |  NS_A              |                    |                    |
F> |                    |  NS_B              |  NS_B              |
F> |  RRSIG_Z_A(NS)     |  RRSIG_Z_A(NS)     |  RRSIG_Z_A(NS)     |
F> |                    |                    |                    |
F> |  DNSKEY_Z_A        |  DNSKEY_Z_A        |  DNSKEY_Z_A        |
F> |                    |  DNSKEY_Z_B        |  DNSKEY_Z_B        |
F> |  DNSKEY_K_A        |  DNSKEY_K_A        |  DNSKEY_K_A        |
F> |                    |  DNSKEY_K_B        |  DNSKEY_K_B        |
F> |  RRSIG_K_A(DNSKEY) |  RRSIG_K_A(DNSKEY) |  RRSIG_K_A(DNSKEY) |
F> ----------------------------------------------------------------
F> ~~~~
F> Figure: Rollover for Cooperating Operators, Steps 1-3

F> ~~~~ ascii-art
F> ----------------------------------------------------------------
F> | signing-migration  | re-delegation II   | post-migration     |
F> ----------------------------------------------------------------
F> |  Parent:           | Parent:            | Parent:            |
F> |                    |                    |                    |
F> |   NS_B             |  NS_B              |  NS_B              |
F> |   DS_A             |                    |                    |
F> |   DS_B             |  DS_B              |  DS_B              |
F> ----------------------------------------------------------------
F> | Published by A     | Published by A     | Published by B     |
F> | Signed by B        | Signed by B        | Signed by B        |
F> ----------------------------------------------------------------
F> | Child:             | Child:             | Child:             |
F> |  SOA_A2            |  SOA_A2            |  SOA_B0            |
F> |  RRSIG_Z_B(SOA)    |  RRSIG_Z_B(SOA)    |  RRSIG_Z_B(SOA)    |
F> |                    |                    |                    |
F> |                    |                    |                    |
F> |  NS_B              |  NS_B              |  NS_B              |
F> |  RRSIG_Z_B(NS)     |  RRSIG_Z_B(NS)     |  RRSIG_Z_B(NS)     |
F> |                    |                    |                    |
F> |  DNSKEY_Z_A        |  DNSKEY_Z_A        |                    |
F> |  DNSKEY_Z_B        |  DNSKEY_Z_B        |  DNSKEY_Z_B        |
F> |  DNSKEY_K_A        |  DNSKEY_K_A        |                    |
F> |  DNSKEY_K_B        |  DNSKEY_K_B        |  DNSKEY_K_B        |
F> |  RRSIG_K_B(DNSKEY) |  RRSIG_K_B(DNSKEY) |  RRSIG_K_B(DNSKEY) |
F> ----------------------------------------------------------------
F> ~~~~
F> Figure: Rollover for Cooperating Operators, Steps 4-6

{backmatter}
